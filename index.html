<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>üéÑ –£–≥–∞–¥–∞–π –Ω–æ–≤–æ–≥–æ–¥–Ω—é—é –º–µ–ª–æ–¥–∏—é</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
body{
  margin:0;
  font-family:"Comic Sans MS","Arial",sans-serif;
  background:linear-gradient(180deg,#bfe9ff,#ffffff);
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* ‚ùÑÔ∏è –°–ù–ï–ñ–ò–ù–ö–ò */
.snowflake{
  position:fixed;
  top:-10px;
  color:#fff;
  font-size:18px;
  user-select:none;
  pointer-events:none;
  animation:fall linear infinite;
}
@keyframes fall{
  to{transform:translateY(110vh);}
}

.card{
  background:white;
  border-radius:30px;
  box-shadow:0 14px 35px rgba(0,0,0,0.2);
  padding:24px;
  max-width:520px;
  width:100%;
  text-align:center;
  position:relative;
  animation:fadeIn .6s ease;
}
@keyframes fadeIn{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

h1{margin:0;font-size:26px}
.counter{font-size:15px;color:#555;margin-top:4px}

.emojis{
  font-size:52px;
  margin:18px 0;
  animation:bounce 1.6s infinite;
}
@keyframes bounce{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

audio{width:100%;margin:12px 0}

button{
  display:block;
  width:100%;
  padding:16px;
  margin:8px 0;
  font-size:20px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  background:#3b82f6;
  color:white;
  -webkit-appearance:none;
  transition:transform .1s,background .2s,color .2s;
}
button:hover{background:#2563eb}
button:active{transform:scale(.95)}

.outline{
  background:white;
  color:#2563eb;
  border:2px solid #2563eb;
}
.outline:hover{
  background:#2563eb;
  color:white;
}

.nav{display:flex;gap:10px;margin-top:8px}

.result{font-size:22px;margin:10px 0}
.correct{color:#16a34a;animation:pop .4s}
.wrong{color:#dc2626;animation:shake .4s}
@keyframes pop{from{transform:scale(.8)}to{transform:scale(1)}}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-6px)}75%{transform:translateX(6px)}}

.score{font-size:15px;color:#555;margin-top:6px}

.history{
  margin-top:14px;
  background:#f0f9ff;
  border-radius:16px;
  padding:12px;
  font-size:14px;
  text-align:left;
  max-height:130px;
  overflow-y:auto;
}
.history-title{font-weight:bold;margin-bottom:6px}

.end{
  display:none;
  font-size:26px;
}
.firework{
  font-size:40px;
  animation:boom 1.2s infinite;
}
@keyframes boom{
  0%{transform:scale(.5);opacity:.4}
  50%{transform:scale(1.2);opacity:1}
  100%{transform:scale(.5);opacity:.4}
}
</style>
</head>
<body>

<div class="card" id="card">
  <h1>üéµ –£–≥–∞–¥–∞–π –Ω–æ–≤–æ–≥–æ–¥–Ω—é—é –º–µ–ª–æ–¥–∏—é</h1>
  <div class="counter" id="counter"></div>

  <div id="game">
    <div id="emojis" class="emojis"></div>
    <audio id="audio" controls></audio>
    <div id="options"></div>
    <div id="result" class="result"></div>

    <div class="nav">
      <button id="prevBtn" class="outline">‚¨Ö –ù–∞–∑–∞–¥</button>
      <button id="nextBtn" class="outline">–í–ø–µ—Ä—ë–¥ ‚û°</button>
    </div>

    <div id="score" class="score"></div>

    <div class="history">
      <div class="history-title">üéÑ –£–≥–∞–¥–∞–Ω–Ω—ã–µ –ø–µ—Å–Ω–∏</div>
      <div id="historyList">–ü–æ–∫–∞ –Ω–µ—Ç</div>
    </div>
  </div>

  <div id="end" class="end">
    üéÜ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! üéÜ<br><br>
    –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç —Ä–∞–¥–æ—Å—Ç—å,<br>
    —É–ª—ã–±–∫–∏ –∏ —á—É–¥–µ—Å–∞! üéÑ‚ú®<br><br>
    <div class="firework">üéáüéÜüéá</div>
  </div>
</div>

<script>
/* ‚ùÑÔ∏è –°–ù–ï–ñ–ò–ù–ö–ò */
for(let i=0;i<30;i++){
 const s=document.createElement('div');
 s.className='snowflake';
 s.textContent='‚ùÑÔ∏è';
 s.style.left=Math.random()*100+'vw';
 s.style.animationDuration=5+Math.random()*5+'s';
 s.style.fontSize=12+Math.random()*18+'px';
 document.body.appendChild(s);
}

const songs=[
 {e:"üéÑ‚ùÑÔ∏èüë∂üå≤‚ú®",t:"–í –ª–µ—Å—É —Ä–æ–¥–∏–ª–∞—Å—å —ë–ª–æ—á–∫–∞",a:"elka.mp3"},
 {e:"‚ùÑÔ∏èüê¥üê¥üê¥üéµ",t:"–¢—Ä–∏ –±–µ–ª—ã—Ö –∫–æ–Ω—è",a:"three_horses.mp3"},
 {e:"üéÖüëßüé∂‚ùÑÔ∏è‚ú®",t:"–†–∞—Å—Å–∫–∞–∂–∏, –°–Ω–µ–≥—É—Ä–æ—á–∫–∞",a:"snegurochka.mp3"},
 {e:"‚è∞üéÑ‚ú®üé∂‚ùÑÔ∏è",t:"–ü—è—Ç—å –º–∏–Ω—É—Ç",a:"five_minutes.mp3"},
 {e:"‚ùÑÔ∏èüå¨Ô∏èüé∂üå®Ô∏è‚ú®",t:"–ó–≤–µ–Ω–∏—Ç —è–Ω–≤–∞—Ä—Å–∫–∞—è –≤—å—é–≥–∞",a:"vuga.mp3"},
 {e:"üéÑüéÅüòäüé∂‚ú®",t:"–ù–æ–≤–æ–≥–æ–¥–Ω—è—è",a:"newyear.mp3"},
 {e:"‚ùÑÔ∏èüëßüéÑüß£‚ú®",t:"–ú–∞–ª–µ–Ω—å–∫–æ–π —ë–ª–æ—á–∫–µ —Ö–æ–ª–æ–¥–Ω–æ –∑–∏–º–æ–π",a:"small_elka.mp3"},
 {e:"‚ùÑÔ∏èüö´‚òÄÔ∏èüé∂üéÑ",t:"–ö–∞–±—ã –Ω–µ –±—ã–ª–æ –∑–∏–º—ã",a:"no_winter.mp3"},
 {e:"üéÑ‚ùÑÔ∏èüíÉüï∫üé∂",t:"–°–Ω–µ–≥ –∫—Ä—É–∂–∏—Ç—Å—è",a:"sneg_kruzhitsya.mp3"},
 {e:"‚ùÑÔ∏èüå®Ô∏èüß£üé∂üå≤",t:"–ó–∏–º–∞",a:"zima.mp3"},
 {e:"‚ùÑÔ∏èüéÖüå¨Ô∏èüé∂‚ú®",t:"–í–¥–æ–ª—å –ø–æ —É–ª–∏—Ü–µ –º–µ—Ç–µ–ª–∏—Ü–∞ –º–µ—Ç—ë—Ç",a:"metelica.mp3"},
 {e:"‚ùÑÔ∏è‚ú®‚ùÑÔ∏èüé∂üí´",t:"–°–Ω–µ–∂–∏–Ω–∫–∞",a:"snezhinka.mp3"},
 {e:"üéÑüë¶üëßüéÅüé∂",t:"–ß—Ç–æ —Ç–∞–∫–æ–µ –ù–æ–≤—ã–π –≥–æ–¥",a:"what_new_year.mp3"},
 {e:"‚ùÑÔ∏èüéÅüèÉüé∂‚ú®",t:"–ù–æ–≤—ã–π –≥–æ–¥ –∫ –Ω–∞–º –º—á–∏—Ç—Å—è",a:"mchitsya.mp3"},
 {e:"üéµüòäüë¶üëßüéÑ",t:"–ï—Å–ª–∏ –≤–µ—Å–µ–ª–æ –∂–∏–≤—ë—Ç—Å—è",a:"veselo.mp3"},
 {e:"‚ùÑÔ∏èüå≤‚ùÑÔ∏èüé∂‚ú®",t:"–ó–∏–º—É—à–∫–∞-–∑–∏–º–∞",a:"zimushka.mp3"},
 {e:"üéÑüåüüéÑüé∂‚ú®",t:"–Å–ª–æ—á–∫–∞-—ë–ª–∫–∞",a:"elochka_elka.mp3"},
 {e:"‚ùÑÔ∏èüå®Ô∏èüé∂üö∂",t:"–°–Ω–µ–≥ –∏–¥—ë—Ç",a:"sneg_idet.mp3"},
 {e:"üéÑüé∂‚ùÑÔ∏è‚ú®üéÅ",t:"–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Ö–æ—Ä–æ–≤–æ–¥",a:"horovod.mp3"},
 {e:"üéÑ‚ùÑÔ∏èüé∂‚ú®üòä",t:"–ó–∏–º–∞ –ø—Ä–∏—à–ª–∞",a:"zima_prishla.mp3"}
];

let i=0;let guessed=new Set();

const emojis=document.getElementById('emojis');
const audio=document.getElementById('audio');
const options=document.getElementById('options');
const result=document.getElementById('result');
const score=document.getElementById('score');
const history=document.getElementById('historyList');
const counter=document.getElementById('counter');
const game=document.getElementById('game');
const end=document.getElementById('end');

function shuffle(a){return a.sort(()=>Math.random()-0.5)}

function load(){
 if(i>=songs.length){game.style.display='none';end.style.display='block';return}
 const s=songs[i];
 emojis.textContent=s.e;
 audio.src=s.a;
 result.textContent='';
 options.innerHTML='';
 counter.textContent=`–ü–µ—Å–Ω—è ${i+1} –∏–∑ ${songs.length}`;

 const opts=shuffle([
  s.t,
  ...shuffle(songs.filter(x=>x.t!==s.t)).slice(0,2).map(x=>x.t)
 ]);

 opts.forEach(o=>{
  const b=document.createElement('button');
  b.textContent=o;
  b.onclick=()=>check(o);
  options.appendChild(b);
 });
 update();
}

function check(o){
 const s=songs[i];
 if(o===s.t){
  result.textContent='üéâ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
  result.className='result correct';
  guessed.add(s.t);
 }else{
  result.textContent='‚ùå –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë';
  result.className='result wrong';
 }
 update();
}

function update(){
 score.textContent=`–£–≥–∞–¥–∞–Ω–æ: ${guessed.size} –∏–∑ ${songs.length}`;
 history.innerHTML=guessed.size?Array.from(guessed).map(x=>'‚úÖ '+x).join('<br>'):'–ü–æ–∫–∞ –Ω–µ—Ç';
}

prevBtn.onclick=()=>{if(i>0){i--;load()}};
nextBtn.onclick=()=>{i++;load()};

load();
</script>
</body>
</html>